(function(e){function t(t){for(var i,o,r=t[0],l=t[1],u=t[2],d=0,m=[];d<r.length;d++)o=r[d],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&m.push(n[o][0]),n[o]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);c&&c(t);while(m.length)m.shift()();return s.push.apply(s,u||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],i=!0,r=1;r<a.length;r++){var l=a[r];0!==n[l]&&(i=!1)}i&&(s.splice(t--,1),e=o(o.s=a[0]))}return e}var i={},n={app:0},s=[];function o(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=i,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(a,i,function(t){return e[t]}.bind(null,i));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var u=0;u<r.length;u++)t(r[u]);var c=l;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0461":function(e,t,a){},"0c69":function(e,t,a){"use strict";var i=a("0461"),n=a.n(i);n.a},"0d61":function(e,t,a){"use strict";var i=a("fa2f"),n=a.n(i);n.a},1038:function(e,t,a){e.exports=a.p+"img/stop.0f204e7b.svg"},"1b9f":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"formElement",staticClass:"form-element",class:{"sub-element":e.subelement,"sub-section":e.formel.subsection},attrs:{value:e.value},on:{focusout:e.handleFocusOut}},[a("div",{staticClass:"error"},[e._v("\n    "+e._s(e.error)+"\n  ")]),"separator"===e.formel.type?a("Separator"):e._e(),"text"===e.formel.type?a("TextField",{attrs:{eldata:e.formel,color:e.color},model:{value:e.elementValue,callback:function(t){e.elementValue=t},expression:"elementValue"}}):e._e(),"number"===e.formel.type?a("NumberField",{attrs:{eldata:e.formel,color:e.color},model:{value:e.elementValue,callback:function(t){e.elementValue=t},expression:"elementValue"}}):e._e(),"long-text"===e.formel.type?a("TextArea",{attrs:{eldata:e.formel,color:e.color},model:{value:e.elementValue,callback:function(t){e.elementValue=t},expression:"elementValue"}}):e._e(),"date"===e.formel.type?a("DateField",{attrs:{eldata:e.formel,color:e.color},model:{value:e.elementValue,callback:function(t){e.elementValue=t},expression:"elementValue"}}):e._e(),"radio"===e.formel.type?a("RadioGroup",{attrs:{eldata:e.formel,color:e.color},model:{value:e.elementValue,callback:function(t){e.elementValue=t},expression:"elementValue"}}):e._e(),"likert-table"===e.formel.type?a("LikertTable",{attrs:{eldata:e.formel,color:e.color},model:{value:e.elementValue,callback:function(t){e.elementValue=t},expression:"elementValue"}}):e._e(),"likert-bar"===e.formel.type?a("LikertBar",{attrs:{eldata:e.formel,color:e.color},model:{value:e.elementValue,callback:function(t){e.elementValue=t},expression:"elementValue"}}):e._e(),"checkbox"===e.formel.type?a("CheckboxGroup",{attrs:{eldata:e.formel,color:e.color},model:{value:e.elementValue,callback:function(t){e.elementValue=t},expression:"elementValue"}}):e._e(),"section"===e.formel.type?a("Section",{attrs:{eldata:e.formel,color:e.color,isSectionValid:e.isSectionValid},model:{value:e.elementValue,callback:function(t){e.elementValue=t},expression:"elementValue"}}):e._e(),"image"===e.formel.type?a("FormImage",{attrs:{eldata:e.formel,color:e.color},model:{value:e.elementValue,callback:function(t){e.elementValue=t},expression:"elementValue"}}):e._e(),"video"===e.formel.type?a("FormVideo",{attrs:{eldata:e.formel,color:e.color},model:{value:e.elementValue,callback:function(t){e.elementValue=t},expression:"elementValue"}}):e._e(),"studyid"===e.formel.type?a("StudyIdField",{attrs:{eldata:e.formel,color:e.color},model:{value:e.elementValue,callback:function(t){e.elementValue=t},expression:"elementValue"}}):e._e()],1)},n=[],s=(a("96cf"),a("3b8d")),o=(a("7f7f"),a("97b5")),r=a("506a"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"sub-separator"})},u=[],c={name:"Separator"},d=c,m=(a("0c69"),a("2877")),p=Object(m["a"])(d,l,u,!1,null,"1a109609",null),h=p.exports,v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"text-field",class:{subsection:e.eldata.subsection},attrs:{id:"form-el-"+e.eldata.name}},[a("div",{staticClass:"title-row"},[a("label",{staticClass:"title",attrs:{for:e.eldata.name}},[e._v(e._s(e.eldata.question)+" "+e._s(e.eldata.validationRules&&e.eldata.validationRules.required?"(*)":""))]),a("HelpText",{attrs:{text:e.eldata.help,name:e.eldata.name}})],1),e.eldata.description?a("div",{staticClass:"desc"},[e._v(e._s(e.eldata.description))]):e._e(),a("div",{staticClass:"input-container"},[a("input",{attrs:{type:"text",name:e.eldata.name,id:e.eldata.name},domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.value)}}})])])},f=[],g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"show",rawName:"v-show",value:e.text,expression:"text"}],class:"help-text "+(e.isOpen?"open-help-text":""),attrs:{tabindex:"0"},on:{click:function(e){e.stopPropagation()},focus:e.handleFocus,focusout:e.handleFocusOut}},[a("div",{staticClass:"question-mark-help-text"},[e._v("?")]),e.isOpen?a("div",{staticClass:"text-help-text"},[e._v(e._s(e.text))]):e._e()])},y=[],b={name:"HelpText",props:["text","name"],data:function(){return{isOpen:!1}},methods:{toggleOpen:function(){this.isOpen=!this.isOpen,this.isOpen&&Object(o["a"])(this.$cookies.get("endoprem_si"),{question:this.name},"help_hint")},handleFocus:function(){this.isOpen=!this.isOpen,this.isOpen&&Object(o["a"])(this.$cookies.get("endoprem_si"),{question:this.name},"help_hint")},handleFocusOut:function(){this.isOpen=!1}}},x=b,w=(a("3786"),Object(m["a"])(x,g,y,!1,null,"dfcee0b4",null)),q=w.exports,k={name:"TextField",props:["eldata","value"],components:{HelpText:q},data:function(){return{}},created:function(){},methods:{}},_=k,O=(a("fd2a"),Object(m["a"])(_,v,f,!1,null,"25ebc7ba",null)),S=O.exports,C=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"text-field",class:{subsection:e.eldata.subsection},attrs:{id:"form-el-"+e.eldata.name}},[a("div",{staticClass:"title-row"},[a("label",{staticClass:"title",attrs:{for:e.eldata.name}},[a("span",[e._v(e._s(e.eldata.question)+" "+e._s(e.eldata.validationRules&&e.eldata.validationRules.required?"(*)":""))])]),a("HelpText",{attrs:{text:e.eldata.help,name:e.eldata.name}})],1),e.eldata.description?a("div",{staticClass:"desc"},[e._v(e._s(e.eldata.description))]):e._e(),a("div",{staticClass:"input-container"},[a("input",{attrs:{type:"number",name:e.eldata.name,id:e.eldata.name,min:"0"},domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.value)}}})])])},P=[],F={name:"TextField",props:["eldata","value"],components:{HelpText:q},data:function(){return{}},created:function(){},mounted:function(){""!==this.value&&null!==this.value&&this.$emit("input",this.value)},methods:{}},j=F,R=(a("2bbd"),Object(m["a"])(j,C,P,!1,null,"158a4a9c",null)),D=R.exports,T=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"text-area",class:{subsection:e.eldata.subsection},attrs:{id:"form-el-"+e.eldata.name,value:e.value}},[i("div",{staticClass:"title-row"},[i("label",{staticClass:"title",attrs:{for:e.eldata.name}},[e._v(e._s(e.eldata.question)+"\n      "+e._s(e.eldata.validationRules&&e.eldata.validationRules.required?"(*)":""))]),i("HelpText",{attrs:{text:e.eldata.help,name:e.eldata.name}})],1),e.eldata.description?i("div",{staticClass:"desc"},[e._v(e._s(e.eldata.description))]):e._e(),i("div",{staticClass:"input-container"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.textval,expression:"textval"}],attrs:{name:e.eldata.name,id:e.eldata.name},domProps:{value:e.textval},on:{input:function(t){t.target.composing||(e.textval=t.target.value)}}}),e.eldata.canRecordAudio?i("div",{directives:[{name:"show",rawName:"v-show",value:!e.audioSrc,expression:"!audioSrc"}],class:"mic "+(e.isRecording?"recording":""),on:{click:e.toggleAudioRecorder}},[e.isRecording?e._e():i("span",{staticClass:"record-title"},[e._v("Record Audio")]),e.isRecording?i("span",{staticClass:"record-title"},[e._v("Recording... "+e._s(e.getTimeInMinutes()))]):e._e(),i("img",{staticStyle:{height:"1.3rem"},attrs:{src:a("4087"),alt:"Record audio",title:"Record audio"}}),i("VueRecordAudio",{ref:"audio_"+e.eldata.name,attrs:{mode:"press"},on:{result:e.onRecordingResult}})],1):e._e(),e.eldata.canRecordAudio?i("div",{directives:[{name:"show",rawName:"v-show",value:e.audioSrc,expression:"audioSrc"}],staticClass:"audio-controls"},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.audioSrc,expression:"audioSrc"}],class:"mic delete",on:{click:e.deleteAudioFile}},[i("img",{staticStyle:{height:"1.3rem"},attrs:{src:a("d739"),alt:"Delete audio",title:"Delete audio"}}),i("audio",{ref:"playback_"+e.eldata.name,attrs:{src:e.audioSrc},on:{ended:e.playbackEnded}})]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.audioSrc,expression:"audioSrc"}],class:"mic playback "+(e.isPlaying?"playing":""),on:{click:e.toggleAudioPlayback}},[e.isPlaying?e._e():i("img",{staticStyle:{height:"1.3rem"},attrs:{src:a("5830"),alt:"Play audio",title:"Play audio"}}),e.isPlaying?i("img",{staticStyle:{height:"1.3rem"},attrs:{src:a("1038"),alt:"Stop audio",title:"Stop audio"}}):e._e(),i("audio",{ref:"playback_"+e.eldata.name,attrs:{src:e.audioSrc},on:{ended:e.playbackEnded}})])]):e._e()])])},V=[],$=(a("34ef"),a("28a5"),{name:"TextArea",props:["eldata","value"],components:{HelpText:q},data:function(){return{audioSrc:null,isRecording:!1,isPlaying:!1,textval:null,audioData:null,currentFile:null,timer:null,audioTimer:0}},created:function(){},mounted:function(){if(this.value&&this.value.text&&(this.textval=this.value.text),this.eldata&&this.eldata.canRecordAudio&&this.value&&this.value.audio&&!this.audioData){var e=this.base64ToBlob(this.value.audio);this.onRecordingResult(e)}},watch:{audioData:{handler:function(e,t){console.log("audioData changed"),this.$emit("input",{text:this.textval,audio:e,audioTimer:this.audioTimer})},deep:!0},textval:{handler:function(e,t){this.$emit("input",{text:e,audio:this.audioData,audioTimer:this.audioTimer})}}},beforeDestroy:function(e,t,a){this.$refs["audio_".concat(this.eldata.name)]&&this.$refs["audio_".concat(this.eldata.name)].stop(),this.timer&&clearInterval(this.timer)},methods:{onRecordingResult:function(e){this.isRecording=!1,this.blobToBase64(e),this.currentFile=e.slice(0,e.size,"audio/webm");var t=window.URL.createObjectURL(this.currentFile);console.log(this.currentFile),console.log("Downloadable audio",t),this.audioSrc=t},blobToBase64:function(e){var t=this,a=new FileReader;a.readAsDataURL(e),a.onloadend=function(){var e=a.result;t.audioData=e}},base64ToBlob:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:512,i=atob(e.split(",")[1]),n=[],s=0;s<i.length;s+=a){for(var o=i.slice(s,s+a),r=new Array(o.length),l=0;l<o.length;l++)r[l]=o.charCodeAt(l);var u=new Uint8Array(r);n.push(u)}var c=new Blob(n,{type:t});return c},toggleAudioRecorder:function(){this.isPlaying=!1,this.isRecording?(this.$refs["audio_".concat(this.eldata.name)].stop(),this.timer&&clearInterval(this.timer)):(this.isRecording=!0,this.$refs["audio_".concat(this.eldata.name)].start(),this.timer=this.setAudioTimer())},setAudioTimer:function(){var e=this;return this.audioTimer=0,setInterval((function(){return e.audioTimer++}),1e3)},getTimeInMinutes:function(){var e=this.audioTimer,t=parseInt(Math.floor(e/60)),a=parseInt((e-60*t)%60),i=t>9?t:"0"+t,n=a>9?a:"0"+a;return i+":"+n},toggleAudioPlayback:function(){this.isRecording=!1,this.$refs["audio_".concat(this.eldata.name)].stop(),this.isPlaying?(this.$refs["playback_".concat(this.eldata.name)].pause(),this.$refs["playback_".concat(this.eldata.name)].currentTime=0,this.isPlaying=!1):(this.isPlaying=!0,this.$refs["playback_".concat(this.eldata.name)].play())},playbackEnded:function(){this.$refs["playback_".concat(this.eldata.name)].currentTime=0,this.isPlaying=!1},deleteAudioFile:function(){this.$refs["playback_".concat(this.eldata.name)].currentTime=0,this.isPlaying=!1,this.audioSrc=null,this.audioData=null,this.isRecording=!1}}}),N=$,A=(a("b62a"),Object(m["a"])(N,T,V,!1,null,"eb7626c8",null)),H=A.exports,E=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"date-field",class:{subsection:e.eldata.subsection},attrs:{id:"form-el-"+e.eldata.name,value:e.value}},[a("div",{staticClass:"title-row"},[a("label",{staticClass:"title"},[a("span",[e._v(e._s(e.eldata.question)+" "+e._s(e.eldata.validationRules&&e.eldata.validationRules.required?"(*)":""))])]),a("HelpText",{attrs:{text:e.eldata.help,name:e.eldata.name}})],1),e.eldata.description?a("div",{staticClass:"desc"},[e._v(e._s(e.eldata.description))]):e._e(),a("div",{staticClass:"date-row"},[a("div",{staticClass:"date-col"},[a("label",{attrs:{for:e.eldata.name+"-day"}},[e._v("Day")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedDate.day,expression:"selectedDate.day"}],attrs:{type:"number",size:"4",name:e.eldata.name+"-day",id:e.eldata.name+"-day",min:"1",max:"31"},domProps:{value:e.selectedDate.day},on:{input:function(t){t.target.composing||e.$set(e.selectedDate,"day",t.target.value)}}})]),a("div",{staticClass:"date-col"},[a("label",{attrs:{for:e.eldata.name+"-month"}},[e._v("Month")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedDate.month,expression:"selectedDate.month"}],attrs:{type:"number",size:"4",name:e.eldata.name+"-month",id:e.eldata.name+"-month",min:"1",max:"12"},domProps:{value:e.selectedDate.month},on:{input:function(t){t.target.composing||e.$set(e.selectedDate,"month",t.target.value)}}})]),a("div",{staticClass:"date-col"},[a("label",{attrs:{for:e.eldata.name+"-year"}},[e._v("Year")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedDate.year,expression:"selectedDate.year"}],attrs:{type:"number",size:"4",name:e.eldata.name+"-year",id:e.eldata.name+"-year",min:"1900",max:e.getYear()},domProps:{value:e.selectedDate.year},on:{input:function(t){t.target.composing||e.$set(e.selectedDate,"year",t.target.value)}}})])])])},I=[],M={name:"DateField",props:["eldata","value"],components:{HelpText:q},data:function(){return{today:new Date,selectedDate:{day:this.value?this.value.day:null,month:this.value?this.value.month:null,year:this.value?this.value.year:null}}},mounted:function(){},methods:{getYear:function(){return this.today.getFullYear()}},watch:{selectedDate:{handler:function(e,t){this.$emit("input",e)},deep:!0},value:{handler:function(e,t){e&&(this.selectedDate.day=e.day,this.selectedDate.month=e.month,this.selectedDate.year=e.year)},deep:!0}}},B=M,Q=(a("7825"),Object(m["a"])(B,E,I,!1,null,"06c8ec38",null)),L=Q.exports,Y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"radio-group",class:{subsection:e.eldata.subsection},attrs:{id:"form-el-"+e.eldata.name,value:e.value}},[a("div",{staticClass:"title-row"},[a("label",{staticClass:"title"},[e._v(e._s(e.eldata.question)+" "+e._s(e.eldata.validationRules&&e.eldata.validationRules.required?"(*)":""))]),a("HelpText",{attrs:{text:e.eldata.help,name:e.eldata.name}})],1),e.eldata.description?a("div",{staticClass:"desc"},[e._v(e._s(e.eldata.description))]):e._e(),a("div",{staticClass:"option-row",class:{col:e.getLength()>10}},e._l(e.eldata.options,(function(t,i){return a("div",{key:e.eldata.name+"-option-"+(i+1),staticClass:"option-col",on:{click:function(t){e.selectOption(e.eldata.options[i].value||e.eldata.options[i].text.replace(/[^A-Z0-9]+/gi,"_").toLowerCase())}}},[a("div",{staticClass:"option-label"},[a("input",{attrs:{type:"radio",name:e.eldata.name+"-option",id:e.eldata.name+"-option-"+(i+1)},domProps:{value:e.eldata.options[i].value||e.eldata.options[i].text.replace(/[^A-Z0-9]+/gi,"_").toLowerCase(),checked:e.selectedOption===(e.eldata.options[i].value||e.eldata.options[i].text.replace(/[^A-Z0-9]+/gi,"_").toLowerCase())}}),a("div",{staticClass:"checkmark"},[a("div",{staticClass:"checked",style:{background:e.color}})]),a("label",{attrs:{for:e.eldata.name+"-option-"+(i+1)}},[e._v(e._s(t.text))])]),t.description?a("div",{staticClass:"label-desc"},[e._v(" "+e._s(t.description)+" ")]):e._e()])})),0)])},z=[],U=(a("a481"),a("ac6a"),{name:"RadioGroup",props:["eldata","value","color"],components:{HelpText:q},data:function(){return{today:new Date,selectedOption:this.value,actionOption:null,endSurvey:!1}},mounted:function(){var e=this;this.eldata.options.forEach((function(t,a){t.action&&(e.actionOption=a+1)})),null!=this.value&&(this.selectedOption=this.value),this.initialize()},watch:{selectedOption:function(e,t){this.$emit("input",e),this.radioChanged(e,t)}},methods:{initialize:function(){if(this.actionOption){var e=this.eldata.options[this.actionOption-1],t={show:e.action.onchecked&&this.selectedOption==(e.value||e.text.replace(/[^A-Z0-9]+/gi,"_").toLowerCase())||!e.action.onchecked&&this.selectedOption!=(e.value||e.text.replace(/[^A-Z0-9]+/gi,"_").toLowerCase()),element:e.action.name};this.$root.$emit("toggleElement",t),(e.value||e.text.replace(/[^A-Z0-9]+/gi,"_").toLowerCase())==this.selectedOption&&"end-survey"==e.action.type?(this.endSurvey=!0,this.$root.$emit("endSurvey",!0)):(this.endSurvey=!1,this.$root.$emit("endSurvey",!1))}},radioChanged:function(e,t){if(this.actionOption){var a=this.eldata.options[this.actionOption-1];if((a.value||a.text.replace(/[^A-Z0-9]+/gi,"_").toLowerCase())==e||(a.value||a.text.replace(/[^A-Z0-9]+/gi,"_").toLowerCase())==t){if(a.action.name){var i={show:a.action.onchecked&&this.selectedOption==(a.value||a.text.replace(/[^A-Z0-9]+/gi,"_").toLowerCase())||!a.action.onchecked&&this.selectedOption!=(a.value||a.text.replace(/[^A-Z0-9]+/gi,"_").toLowerCase()),element:a.action.name};this.$root.$emit("toggleElement",i)}this.endSurvey?(this.endSurvey=!1,this.$root.$emit("endSurvey",!1)):"end-survey"==a.action.type&&(this.endSurvey=!0,this.$root.$emit("endSurvey",!0))}}},getLength:function(){var e=0;return this.eldata.options.forEach((function(t){t.text.length>e&&(e=t.text.length)})),e},selectOption:function(e){this.selectedOption=e}}}),J=U,Z=(a("53e7"),Object(m["a"])(J,Y,z,!1,null,"2db1a0ea",null)),G=Z.exports,W=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"likert-group",class:{subsection:e.eldata.subsection},attrs:{id:"form-el-"+e.eldata.name,value:e.value}},[a("label",{staticClass:"title"},[e._v(e._s(e.eldata.question)+" "+e._s(e.eldata.validationRules&&e.eldata.validationRules.required?"(*)":""))]),e.eldata.description?a("div",{staticClass:"desc"},[e._v(e._s(e.eldata.description))]):e._e(),a("div",{staticClass:"table"},[a("div",{staticClass:"table-row radio-group-labels"},[a("div",{staticClass:"table-cell empty-cell"}),e._l(e.eldata.options,(function(t,i){return a("div",{key:e.eldata.name+"-label-"+(i+1),staticClass:"table-cell radio-group-label"},[e._v("\n        "+e._s(t)+"\n      ")])}))],2),e._l(e.eldata.prompts,(function(t,i){return a("div",{key:e.eldata.name+"-row-"+(i+1),class:{collapse:"true"==e.collapse.split(",")[i],"table-row":!0,"radio-group-data":!0}},[a("div",{staticClass:"table-cell prompt",on:{click:function(t){e.collapse.split(",")[i]&&e.toggleExpand(i)}}},[a("div",{staticClass:"title-row"},[a("div",{staticClass:"prompt-text"},[e._v("\n            "+e._s(t.prompt||t)+"\n          ")]),a("span",[a("HelpText",{attrs:{text:t.help,name:e.eldata.name}})],1)]),a("div",{staticClass:"prompt-collapse",style:{color:e.color}},[a("i",{class:{fas:!0,"fa-chevron-up":"false"==e.collapse.split(",")[i],"fa-chevron-down":"true"==e.collapse.split(",")[i]}})])]),e.selectedOptions[i]?a("div",{staticClass:"selected-label",style:{color:e.color}},[e._v("\n        "+e._s(e.eldata.options[e.selectedOptions[i]-1])+"\n      ")]):e._e(),e._l(e.eldata.options,(function(t,n){return a("div",{key:e.eldata.name+"-cell-"+(i+1)+"-"+(n+1),staticClass:"table-cell radio-group-cell option-cell"},[a("div",{staticClass:"option-row",on:{click:function(t){return e.selectOption(i,n+1)}}},[a("input",{attrs:{type:"radio",name:e.eldata.name+"-option-"+(i+1),id:e.eldata.name+"-option-"+(i+1)+"-"+(n+1)},domProps:{value:n+1,checked:e.selectedOptions[i]===n+1},on:{click:function(t){return e.closeExpand(i)}}}),a("div",{staticClass:"checkmark"},[a("div",{staticClass:"checked",style:{background:e.color}})]),a("label",{staticClass:"likert-labels",attrs:{for:e.eldata.name+"-option-"+(i+1)+"-"+(n+1)}},[e._v(e._s(t))])])])}))],2)}))],2)])},X=[],K=a("75fc"),ee={name:"LikertTable",props:["eldata","value","color"],components:{HelpText:q},data:function(){return{today:new Date,selectedOptions:this.value||[],collapse:"",lastChange:0}},mounted:function(){null!=this.value?this.selectedOptions=this.value:this.selectedOptions=[];var e=[];this.eldata.prompts.forEach((function(){return e.push(!1)})),this.collapse=e.join(",")},watch:{selectedOptions:{handler:function(e,t){this.$emit("input",e)},deep:!0}},methods:{toggleExpand:function(e){var t=this.collapse.split(",");t[e]="true"!=t[e],this.collapse=t.join(","),console.log(this.collapse)},closeExpand:function(e){var t=this.collapse.split(",");t[e]=!0,this.collapse=t.join(",")},selectOption:function(e,t){var a=Object(K["a"])(this.selectedOptions);a[e]=t,this.selectedOptions=Object(K["a"])(a),this.closeExpand(e)}}},te=ee,ae=(a("7e45"),Object(m["a"])(te,W,X,!1,null,"78502454",null)),ie=ae.exports,ne=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"likert-bar",class:{subsection:e.eldata.subsection},attrs:{id:"form-el-"+e.eldata.name,value:e.value}},[a("div",{staticClass:"title-row"},[a("label",{staticClass:"title"},[e._v(e._s(e.eldata.question)+" "+e._s(e.eldata.validationRules&&e.eldata.validationRules.required?"(*)":""))]),a("HelpText",{attrs:{text:e.eldata.help,name:e.eldata.name}})],1),e.eldata.description?a("div",{staticClass:"desc"},[e._v(e._s(e.eldata.description))]):e._e(),a("div",{staticClass:"option-row"},e._l(e.options,(function(t,i){return a("div",{key:e.eldata.name+"-option-"+(i+1),staticClass:"option-cell",on:{click:function(t){return e.selectOption(i)}}},[a("div",{staticClass:"option-label"},[a("input",{attrs:{type:"radio",name:e.eldata.name+"-option",id:e.eldata.name+"-option-"+(i+1)},domProps:{value:t,checked:e.selectedOption===i}}),a("div",{staticClass:"checkmark",style:{background:e.selectedOption===i?e.color:"inherit"}},[a("label",{attrs:{for:e.eldata.name+"-option-"+(i+1)}},[e._v(e._s(t))])])])])})),0),e.eldata.options.startText||e.eldata.options.endText?a("div",{staticClass:"hint-row"},[a("div",{staticClass:"start-text hint-text-container"},[a("div",{staticClass:"hint-text"},[e._v("\n        "+e._s(e.eldata.options.startText)+"\n      ")])]),a("div",{staticClass:"end-text hint-text-container"},[a("div",{staticClass:"hint-text"},[e._v("\n        "+e._s(e.eldata.options.endText)+"\n      ")])])]):e._e()])},se=[],oe={name:"LikertBar",props:["eldata","value","color"],components:{HelpText:q},data:function(){return{selectedOption:null,actionOption:null,endSurvey:!1,options:[]}},mounted:function(){this.options=[];for(var e=this.eldata.options.from;e<=this.eldata.options.to;e++)this.options.push(e);null!=this.value&&(this.selectedOption=this.options.indexOf(this.value))},watch:{selectedOption:function(e,t){this.$emit("input",this.options[e])}},methods:{selectOption:function(e){this.selectedOption=e}}},re=oe,le=(a("695a"),Object(m["a"])(re,ne,se,!1,null,"4db4a504",null)),ue=le.exports,ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"checkbox-group",class:{subsection:e.eldata.subsection},attrs:{id:"form-el-"+e.eldata.name,value:e.value}},[a("label",{staticClass:"title"},[e._v(e._s(e.eldata.question))]),e.eldata.description?a("div",{staticClass:"desc"},[e._v(e._s(e.eldata.description))]):e._e(),a("div",{staticClass:"option-row",class:{col:e.getLength()>10}},e._l(e.eldata.options,(function(t,i){return a("div",{key:e.eldata.name+"-option-"+i,staticClass:"option-col",on:{click:function(t){return e.selectOption(i)}}},[a("input",{attrs:{type:"checkbox",name:e.eldata.name+"-option",id:e.eldata.name+"-option-"+i},domProps:{value:e.getOptionValue(i),checked:e.selectedOptions.indexOf(e.getOptionValue(i))>-1}}),a("div",{staticClass:"checkmark"},[a("div",{staticClass:"checked",style:{background:e.color}})]),a("label",{staticStyle:{"pointer-events":"none"},attrs:{for:e.eldata.name+"-option-"+i}},[e._v(e._s(t.text))])])})),0)])},de=[],me={name:"CheckboxGroup",props:["eldata","value","color"],data:function(){return{today:new Date,selectedOptions:[],actionOption:null}},created:function(){},mounted:function(){var e=this;this.eldata.options.forEach((function(t,a){t.action&&(e.actionOption=a+1)})),null!=this.value&&(this.selectedOptions=Object(K["a"])(this.value)),this.initialize()},watch:{selectedOptions:{handler:function(e,t){this.$emit("input",e),this.checkboxChanged(e,t)},deep:!0}},methods:{initialize:function(){if(this.actionOption){var e=this.eldata.options[this.actionOption-1],t={show:e.action.onchecked&&this.selectedOptions.indexOf(getOptionValue(this.actionOption-1))>-1||!e.action.onchecked&&this.selectedOptions.indexOf(getOptionValue(this.actionOption-1))<0,element:e.action.name};this.$root.$emit("toggleElement",t)}},getOptionValue:function(e){return this.eldata.options[e].value||this.eldata.options[e].text.replace(/[^A-Z0-9]+/gi,"_").toLowerCase()},checkboxChanged:function(e,t){if(this.actionOption){var a=this.eldata.options[this.actionOption-1],i={show:a.action.onchecked&&this.selectedOptions.indexOf(getOptionValue(this.actionOption-1))>-1||!a.action.onchecked&&this.selectedOptions.indexOf(getOptionValue(this.actionOption-1))<0,element:a.action.name};this.$root.$emit("toggleElement",i)}},getLength:function(){var e=0;return this.eldata.options.forEach((function(t){t.text.length>e&&(e=t.text.length)})),e},selectOption:function(e){var t=Object(K["a"])(this.selectedOptions),a=this.getOptionValue(e),i=t.indexOf(a);i>-1?t.splice(i,1):t.push(a),this.selectedOptions=Object(K["a"])(t)}}},pe=me,he=(a("2382"),Object(m["a"])(pe,ce,de,!1,null,"8a7314ac",null)),ve=he.exports,fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"question-section",class:{subsection:e.eldata.subsection},attrs:{id:"form-el-"+e.eldata.name,value:e.value}},[a("transition",{attrs:{name:"slide-fade"}},[e.show?a("div",[a("div",{staticClass:"title-row"},[e.eldata.title?a("div",{staticClass:"title"},[e._v(e._s(e.eldata.title))]):e._e(),a("HelpText",{attrs:{text:e.eldata.help,name:e.eldata.name}})],1),e.eldata.description?a("div",{staticClass:"desc"},[e._v("\n        "+e._s(e.eldata.description)+"\n      ")]):e._e(),e._l(e.eldata.questions,(function(t,i){return a("FormElement",{key:"sub-form-el-"+i,attrs:{formel:t,subelement:!0,isValid:function(a){return e.isElementValid(a,t.name)}},model:{value:e.result[t.name],callback:function(a){e.$set(e.result,t.name,a)},expression:"result[q.name]"}})}))],2):e._e()])],1)},ge=[],ye=(a("456d"),{name:"Section",props:["eldata","value","isSectionValid"],components:{FormElement:function(){return Promise.resolve().then(a.bind(null,"1b9f"))},HelpText:q},data:function(){return{show:!0,result:this.value||{isSectionValid:!1},elementsValidation:{},isNextRequested:!1,validationCount:-1}},watch:{result:{handler:function(e,t){this.$emit("input",e)},deep:!0},validationCount:function(e,t){var a=this;if(e>=Object.keys(this.elementsValidation).length){var i=!0;Object.keys(this.elementsValidation).forEach((function(e){i=i&&a.elementsValidation[e]})),this.result.isSectionValid=i,this.isSectionValid(this.eldata.name,i)}}},created:function(){this.$root.$on("validate",this.requestValidation),this.$root.$on("toggleElement",this.toggleShow)},beforeDestroy:function(){this.$root.$off("validate",this.requestValidation),this.$root.$off("toggleElement",this.toggleShow)},methods:{toggleShow:function(e){e.element==this.eldata.name&&(this.show=e.show,e.show||(this.result={isSectionValid:!0},this.isSectionValid(this.eldata.name,!0)))},populateValidationObject:function(){var e={};this.page[this.currentQuestion].questions&&this.page[this.currentQuestion].questions.forEach((function(t){["separator","image","video"].indexOf(t.type)<0&&t.name&&(e[t.name]=!1)})),this.elementsValidation=e},isElementValid:function(e,t){t&&(this.elementsValidation[t]=e,this.validationCount<0&&(this.validationCount=0),this.validationCount++)},requestValidation:function(){this.show?this.validationCount=-1:this.isSectionValid(this.eldata.name,!0)}}}),be=ye,xe=(a("958a"),Object(m["a"])(be,fe,ge,!1,null,"77705ec4",null)),we=xe.exports,qe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-image-container"},[a("img",{staticClass:"form-image",attrs:{src:e.eldata.src,title:e.eldata.title,alt:e.eldata.alt}})])},ke=[],_e={name:"FormImage",props:["eldata","value"],data:function(){return{}}},Oe=_e,Se=(a("6282"),Object(m["a"])(Oe,qe,ke,!1,null,"cce08eea",null)),Ce=Se.exports,Pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"date-field",class:{subsection:e.eldata.subsection},attrs:{id:"form-el-"+e.eldata.name,value:e.value}},[a("div",{staticClass:"title-row"},[a("label",{staticClass:"title"},[a("span",[e._v(e._s(e.eldata.question)+" "+e._s(e.eldata.validationRules&&e.eldata.validationRules.required?"(*)":""))])]),a("HelpText",{attrs:{text:e.eldata.help,name:e.eldata.name}})],1),e.eldata.description?a("div",{staticClass:"desc"},[e._v(e._s(e.eldata.description))]):e._e(),a("div",{staticClass:"date-row"},[a("div",{staticClass:"date-col"},[a("label",{attrs:{for:e.eldata.name+"-code1"}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedDate.code1,expression:"selectedDate.code1"}],staticStyle:{width:"2em"},attrs:{type:"text",maxlength:"2",placeholder:"XX",name:e.eldata.name+"-code1",id:e.eldata.name+"-code1"},domProps:{value:e.selectedDate.code1},on:{input:[function(t){t.target.composing||e.$set(e.selectedDate,"code1",t.target.value)},function(t){return e.onCodeInput(t,"code1")}]}})]),a("div",{staticClass:"date-col"},[a("label",{attrs:{for:e.eldata.name+"-code2"}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedDate.code2,expression:"selectedDate.code2"}],staticStyle:{width:"6em"},attrs:{type:"number",placeholder:"000000",size:"6",maxlength:"6",name:e.eldata.name+"-code2",id:e.eldata.name+"-code2"},domProps:{value:e.selectedDate.code2},on:{input:[function(t){t.target.composing||e.$set(e.selectedDate,"code2",t.target.value)},function(t){return e.onCodeInput(t,"code2")}]}})]),a("div",{staticClass:"date-col"},[a("label",{attrs:{for:e.eldata.name+"-code3"}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedDate.code3,expression:"selectedDate.code3"}],staticStyle:{width:"9rem"},attrs:{type:"number",placeholder:"000000000",size:"9",maxlength:"9",name:e.eldata.name+"-code3",id:e.eldata.name+"-code3"},domProps:{value:e.selectedDate.code3},on:{input:[function(t){t.target.composing||e.$set(e.selectedDate,"code3",t.target.value)},function(t){return e.onCodeInput(t,"code3")}]}})])])])},Fe=[],je=(a("5df3"),a("1c4c"),{name:"StudyIdField",props:["eldata","value"],components:{HelpText:q},data:function(){return{today:new Date,selectedDate:{code1:this.value?this.value.code1:null,code2:this.value?this.value.code2:null,code3:this.value?this.value.code3:null}}},mounted:function(){},methods:{onCodeInput:function(e,t){var a=e.target;a.maxLength,a.value.length},focusNext:function(e){var t=Array.from(e.form.elements).indexOf(e);e.form.elements.item(t<e.form.elements.length-1?t+1:0).focus()}},watch:{selectedDate:{handler:function(e,t){this.$emit("input",e)},deep:!0},value:{handler:function(e,t){e&&(this.selectedDate.day=e.day,this.selectedDate.month=e.month,this.selectedDate.year=e.year)},deep:!0}}}),Re=je,De=(a("0d61"),Object(m["a"])(Re,Pe,Fe,!1,null,"42d8f19a",null)),Te=De.exports,Ve=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-video-container"},[a("iframe",{attrs:{width:"800",height:"450",src:"https://www.youtube.com/embed/"+e.eldata.youtubeId,frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}})])},$e=[],Ne={name:"FormVideo",props:["eldata","value"],data:function(){return{}}},Ae=Ne,He=(a("545b"),Object(m["a"])(Ae,Ve,$e,!1,null,"ef5c37b8",null)),Ee=He.exports,Ie={name:"FormElement",props:["formel","subelement","value","color","isValid"],components:{Separator:h,TextField:S,NumberField:D,TextArea:H,DateField:L,RadioGroup:G,LikertTable:ie,LikertBar:ue,CheckboxGroup:ve,Section:we,FormImage:Ce,FormVideo:Ee,StudyIdField:Te},data:function(){return{elementValue:this.value,error:"",validationSchema:{}}},mounted:function(){document.querySelector("input")?document.querySelector("input").focus():document.querySelector("textarea")&&document.querySelector("textarea").focus(),this.buildValidationSchema()},created:function(){this.$root.$on("validate",this.validate)},beforeDestroy:function(){this.$root.$off("validate",this.validate)},methods:{handleFocusOut:function(){Object(o["a"])(this.$cookies.get("endoprem_si"),{question:this.formel.name},"question_blur")},validate:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t={},t[this.formel.name]=this.elementValue,e.prev=2,"section"==this.formel.type){e.next=9;break}return e.next=6,this.validationSchema.validate(this.elementValue);case 6:e.sent,this.isValid(!0),this.error="";case 9:e.next=15;break;case 11:e.prev=11,e.t0=e["catch"](2),this.error=e.t0.message,this.isValid(!1);case 15:case"end":return e.stop()}}),e,this,[[2,11]])})));function t(){return e.apply(this,arguments)}return t}(),dateAdd:function(e,t,a){var i=new Date(e);switch(a){case"day":case"days":return i.setDate(i.getDate()+t);case"month":case"months":return i.getMonth(i.getMonth()+t);case"year":case"years":return i.setFullYear(i.getFullYear()+t);default:return i}},isSectionValid:function(e,t){this.isValid(t),this.error=t?"":"Section Invalid"},buildValidationSchema:function(){var e=this.formel.validationRules;if(e){var t=this.formel.type,a={};switch(t){case"studyid":var i=Object(r["e"])().length(2,"Invalid study ID."),n=Object(r["e"])().length(6,"Invalid study ID."),s=Object(r["e"])().length(9,"Invalid study ID.");e.required&&(i=i.required("Study ID is required."),n=n.required("Study ID is required."),s=s.required("Study ID is required.")),a=Object(r["d"])({code1:i,code2:n,code3:s});break;case"date":a=Object(r["d"])({day:Object(r["c"])().transform((function(e){return isNaN(e)?void 0:e})).min(1).max(31),month:Object(r["c"])().transform((function(e){return isNaN(e)?void 0:e})).min(1).max(12),year:Object(r["c"])().transform((function(e){return isNaN(e)?void 0:e})).min(e.max?(new Date).getFullYear()-e.max:(new Date).getFullYear()-120).max(e.min?(new Date).getFullYear()-e.min:(new Date).getFullYear())});break;case"text":a=Object(r["e"])(),a=e.required?a.required():a.notRequired(),e.min&&(a=a.min(e.min)),e.max&&(a=a.max(e.max)),e.length&&(a=a.length(e.length));break;case"long-text":a=Object(r["d"])({text:Object(r["e"])().when("audio",(function(t,a){return t&&""!=t||(e.min&&(a=a.min(e.min)),e.max&&(a=a.max(e.max)),e.length&&(a=a.length(e.length)),a=e.required?a.required():a.notRequired()),a})),audio:Object(r["e"])().nullable()});break;case"number":a=Object(r["c"])().transform((function(e){return isNaN(e)?void 0:e})),e.required&&(a=a.required()),e.min&&(a=a.min(e.min)),e.max&&(a=a.max(e.max));break;case"likert-table":a=Object(r["a"])().of(Object(r["c"])().transform((function(e){return isNaN(e)?0:e})).min(0).max(this.formel.options.length)),e.required&&(a=a.required().length(this.formel.prompts.length));break;case"likert-bar":a=Object(r["c"])().transform((function(e){return isNaN(e)?-1:e})),e.required&&(a=a.required()),this.formel.options.from&&(a=a.min(this.formel.options.from)),this.formel.options.to&&(a=a.max(this.formel.options.to));break;case"radio":case"checkbox":a=Object(r["e"])(),e.required&&(a=a.required());break;case"section":a=Object(r["d"])({isSectionValid:Object(r["b"])()});break;default:this.validationSchema=Object(r["d"])().nullable();break}return this.validationSchema=a}this.validationSchema=Object(r["d"])().nullable()}},watch:{elementValue:{handler:function(e,t){this.$emit("input",e)},deep:!0},value:{handler:function(e,t){this.elementValue=e},deep:!0}}},Me=Ie,Be=(a("7b5c"),Object(m["a"])(Me,i,n,!1,null,"0534b5a8",null));t["default"]=Be.exports},2382:function(e,t,a){"use strict";var i=a("a43c"),n=a.n(i);n.a},"2bbd":function(e,t,a){"use strict";var i=a("8562"),n=a.n(i);n.a},"31ef":function(e,t,a){},3786:function(e,t,a){"use strict";var i=a("eb5b"),n=a.n(i);n.a},"37c8":function(e,t,a){},3921:function(e,t,a){},4087:function(e,t,a){e.exports=a.p+"img/microphone.8bda51b2.svg"},"43e1":function(e,t,a){},4904:function(e,t,a){},"53e7":function(e,t,a){"use strict";var i=a("4904"),n=a.n(i);n.a},"545b":function(e,t,a){"use strict";var i=a("43e1"),n=a.n(i);n.a},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("f751"),a("097d");var i=a("2b0e"),n=a("8c4f"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},o=[],r=a("9612"),l={mounted:function(){this.$cookies.isKey("endoprem_si")||$cookies.set("endoprem_si",r["a"].v4())}},u=l,c=(a("7faf"),a("2877")),d=Object(c["a"])(u,s,o,!1,null,null,null),m=d.exports,p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"home"}},[a("PreHealthForm")],1)},h=[],v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ph-form"},[a("form",{ref:"phform",attrs:{name:"pre-health",id:"ph-form"}},[e.formData?a("ProgressBar",{attrs:{progress:e.currentQuestion/e.formData[e.currentPage].length*100,totalPages:e.formData.length-1,page:e.currentPage,color:e.color}}):e._e(),e.formData?a("Page",{key:e.currentPage,attrs:{id:"page-"+e.currentPage,page:e.formData[e.currentPage],color:e.color,currentPage:e.currentPage,"current-question":e.currentQuestion,progressToNext:e.progressToNext},model:{value:e.results,callback:function(t){e.results=t},expression:"results"}}):e._e(),a("div",{staticClass:"footer"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!(e.currentPage>0||e.currentQuestion>0)&&e.hasSavedResults,expression:"!(currentPage > 0 || currentQuestion > 0) && hasSavedResults"}],staticClass:"footer-nav",staticStyle:{"margin-bottom":"10px","justify-content":"flex-end"}},[a("div",{staticClass:"btn-container"},[e.currentPage>0||e.currentQuestion>0?e._e():a("button",{ref:"clearbtn",style:{background:e.color},attrs:{id:"clear-btn",type:"button",tabindex:"1"},on:{click:function(t){return e.startFromSave()}}},[a("span",{staticStyle:{"margin-right":"10px"}},[e._v("Continue saved survey")]),a("i",{staticClass:"fas fa-caret-right"})])])]),a("div",{staticClass:"footer-nav"},[a("div",{staticClass:"btn-container prev"},[(e.currentPage>0||e.currentQuestion>0)&&!e.isSubmitted?a("button",{ref:"prevbtn",style:{background:e.color},attrs:{id:"prev-btn",type:"button",tabindex:"1"},on:{click:function(t){return e.prevPage()}}},[a("i",{staticClass:"fas fa-caret-left"}),a("span",{staticStyle:{"margin-left":"10px"}},[e._v("Back")])]):e._e()]),a("div",{staticClass:"btn-container next"},[(e.currentPage>0||e.currentQuestion>0)&&(e.currentPage<e.formData.length-1||e.currentQuestion<e.formData[e.currentPage].length-1)?a("button",{ref:"nextbtn",style:{background:e.color},attrs:{id:"next-btn",tabindex:"0",type:"button",disabled:!e.enableNext},on:{click:function(t){return e.nextPage()}}},[a("span",{staticStyle:{"margin-right":"10px"}},[e._v("Next")]),a("i",{staticClass:"fas fa-caret-right"})]):e._e(),e.currentPage>0||e.currentQuestion>0?e._e():a("button",{ref:"nextbtn",style:{background:e.color},attrs:{id:"next-btn",type:"button",disabled:!e.enableNext},on:{click:function(t){return e.startNew()}}},[a("span",{staticStyle:{"margin-right":"10px"}},[e._v("Start new survey")]),a("i",{staticClass:"fas fa-caret-right"})]),e.error?a("div",{staticStyle:{padding:"10px",color:"red"}},[e._v("\n            Error! Please try again!\n          ")]):e._e(),(e.currentPage>0||e.currentQuestion>0)&&!(e.currentPage<e.formData.length-1||e.currentQuestion<e.formData[e.currentPage].length-1)?a("button",{ref:"submitbtn",style:{background:e.color},attrs:{id:"submit-btn",type:"button",disabled:!e.enableNext||e.isSubmitted||e.isSubmitting},on:{click:function(t){return e.submit()}}},[e.isSubmitting?e._e():a("span",[e._v(e._s(e.isSubmitted?"Submmited!":"Submit Answers"))]),e.isSubmitting?a("span",[e._v("Submitting")]):e._e()]):e._e()])])])],1)])},f=[],g=a("75fc"),y=(a("34ef"),a("28a5"),a("96cf"),a("3b8d")),b=(a("ac6a"),a("456d"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"page",staticClass:"page",attrs:{value:e.value}},[a("div",{staticClass:"section"},[a("div",{staticClass:"title",style:{color:e.color}},[e._v("\n      "+e._s(e.page[e.currentQuestion].title)+"\n    ")]),e.page[e.currentQuestion].description?a("div",{staticClass:"description"},[e._v("\n      "+e._s(e.page[e.currentQuestion].description)+"\n    ")]):e._e(),e._l(e.page[e.currentQuestion].questions,(function(t,i){return a("FormElement",{key:"form-el-"+e.currentQuestion+"-"+i,attrs:{id:"form-el-"+e.currentQuestion+"-"+i,formel:t,color:e.color,isValid:function(a){return e.isElementValid(a,t.name)}},model:{value:e.value[t.name],callback:function(a){e.$set(e.value,t.name,a)},expression:"value[q.name]"}})}))],2)])}),x=[],w=(a("8e6e"),a("7f7f"),a("bd86")),q=a("1b9f"),k=a("97b5");function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function O(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(a,!0).forEach((function(t){Object(w["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var S={name:"Page",props:["page","value","currentQuestion","color","progressToNext","currentPage"],components:{FormElement:q["default"]},data:function(){return{result:null,defaultValues:{},isPageValid:!1,elementsValidation:{},isNextRequested:!1,isDataValid:!1,validationCount:-1}},mounted:function(){null!=this.$attrs.value&&(this.defaultValues=O({},this.$attrs.value)),Object(k["a"])(this.$cookies.get("endoprem_si"),{page:this.currentPage,question:this.currentQuestion},"page_load"),this.populateValidationObject()},watch:{currentQuestion:function(e,t){e!=t&&(this.populateValidationObject(),Object(k["a"])(this.$cookies.get("endoprem_si"),{page:this.currentPage,question:e},"page_load"))},currentPage:function(e,t){e!=t&&(this.populateValidationObject(),console.log("page changed"))},isNextRequested:function(e,t){e&&0==Object.keys(this.elementsValidation).length&&this.progressToNext(!0)},validationCount:{handler:function(e,t){var a=this;if(e>=Object.keys(this.elementsValidation).length){var i=!0;Object.keys(this.elementsValidation).forEach((function(e){i=i&&a.elementsValidation[e]})),this.isDataValid=i,this.isNextRequested&&(i?(this.isNextRequested=!1,this.progressToNext(!0)):(window.scrollTo(0,0),this.isNextRequested=!1,this.progressToNext(!1)))}},deep:!0},defaultValues:{handler:function(e,t){this.$emit("input",this.defaultValues)},deep:!0},value:{handler:function(e,t){},deep:!0}},created:function(){this.$root.$on("validate",this.requestNext)},beforeDestroy:function(){this.$root.$off("validate",this.requestNext)},methods:{populateValidationObject:function(){var e={};this.page[this.currentQuestion].questions&&this.page[this.currentQuestion].questions.forEach((function(t){["separator","image","video"].indexOf(t.type)<0&&t.name&&(e[t.name]=!1)})),this.elementsValidation=e},isElementValid:function(e,t){t&&(this.elementsValidation[t]=e,this.validationCount<0&&(this.validationCount=0),this.validationCount++)},requestNext:function(){0==Object.keys(this.elementsValidation).length?(this.progressToNext(!0),this.isNextRequested=!1,this.validationCount=-1):(this.isNextRequested=!0,this.validationCount=-1)}}},C=S,P=(a("cb72"),Object(c["a"])(C,b,x,!1,null,"bf85bce8",null)),F=P.exports,j=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"progress-bar"},[a("div",{staticClass:"bar-container"},[a("div",{staticClass:"bar-fill",style:{width:e.getWidth(),background:e.color}}),e._l(e.totalPages,(function(t){return a("div",{key:"progress-page-"+(t-1),class:{"page-number":!0,done:t-1<e.page},style:{left:(t-1)*(100/(e.totalPages-1))+"%",background:t-1<e.page?e.color:"inherit"}},[t!=e.totalPages?a("div",[e._v(e._s(t))]):e._e(),t==e.totalPages?a("div",[a("i",{staticClass:"fas fa-check"})]):e._e()])}))],2)])},R=[],D={name:"ProgressBar",props:["progress","page","totalPages","color"],data:function(){return{}},mounted:function(){},watch:{},methods:{getWidth:function(){var e=this.progress/(this.totalPages-1)+100*(this.page-1)/(this.totalPages-1);return"".concat(e,"%")}}},T=D,V=(a("f18f"),Object(c["a"])(T,j,R,!1,null,"d4659082",null)),$=V.exports,N={color:"#E5261F",sections:[[{title:"Cue Band Formal Trial - Assessment",description:"Thank you for taking your time to complete this assessment about your Parkinson’s and drooling symptoms. The assessment will take about 10 - 15 minutes to complete. There are no right or wrong answers - we are just interested in hearing about your symptoms throughout the course of the study."}],[{title:"Cue Band Formal Trial - Assessment",questions:[{question:"Do you experience loss of saliva during the day?",name:"romps1",type:"radio",options:[{text:"I do not lose saliva during the day and do not feel accumulation of saliva in my mouth.",value:"1"},{text:"I do not lose saliva, but I feel accumulation of saliva in my mouth.",value:"2"},{text:"I lose some saliva in the corners of my mouth or on my chin.",value:"3"},{text:"I lose saliva on my clothes.",value:"4"},{text:"I lose saliva on my clothes, but also on books or on the floor.",value:"5"}],validationRules:{required:!0}}]},{title:"Cue Band Formal Trial - Assessment",questions:[{question:"How often do you experience increased amounts or loss of saliva?",name:"romps2",type:"radio",options:[{text:"Less than once a day.",value:"1"},{text:"Occasionally: on average, once or twice a day.",value:"2"},{text:"Frequently: 2 to 5 times a day.",value:"3"},{text:"Very often: 6 to 10 times a day.",value:"4"},{text:"Almost constantly.",value:"5"}],validationRules:{required:!0}}]},{title:"Cue Band Formal Trial - Assessment",questions:[{question:"Do you experience loss of saliva during the night?",name:"romps3",type:"radio",options:[{text:"I do not experience loss of saliva during the night at all.",value:"1"},{text:"My pillow sometimes gets wet during the night.",value:"2"},{text:"My pillow regularly gets wet during the night.",value:"3"},{text:"My pillow always gets wet during the night.",value:"4"},{text:"Every night my pillow and other bedclothes get wet.",value:"5"}],validationRules:{required:!0}}]},{title:"Cue Band Formal Trial - Assessment",questions:[{question:"Does your (loss of) saliva impair your eating and drinking?",name:"romps4",type:"radio",options:[{text:"No, my (loss of) saliva does not impair my eating or drinking.",value:"1"},{text:"Yes, my (loss of) saliva occasionally impairs my eating or drinking.",value:"2"},{text:"Yes, my (loss of) saliva frequently impairs my eating or drinking.",value:"3"},{text:"Yes, my (loss of) saliva very often impairs my eating or drinking.",value:"4"},{text:"Yes, my (loss of) saliva always impairs my eating or drinking.",value:"5"}],validationRules:{required:!0}}]},{title:"Cue Band Formal Trial - Assessment",questions:[{question:"Does your (loss of) saliva impair your speech?",name:"romps5",type:"radio",options:[{text:"No, my (loss of) saliva does not impair my speech.",value:"1"},{text:"Yes, my (loss of) saliva occasionally impairs my speech.",value:"2"},{text:"Yes, my (loss of) saliva frequently impairs my speech.",value:"3"},{text:"Yes, my (loss of) saliva very often impairs my speech.",value:"4"},{text:"Yes, my (loss of) saliva always impairs my speech.",value:"5"}],validationRules:{required:!0}}]},{title:"Cue Band Formal Trial - Assessment",questions:[{question:"What do you have to do to remove saliva?",name:"romps6",type:"radio",options:[{text:"I do not have to remove saliva.",value:"1"},{text:"I always carry a handkerchief to remove possible saliva.",value:"2"},{text:"I daily use 1 or 2 handkerchiefs to remove some saliva.",value:"3"},{text:"I daily need more than 2 handkerchiefs to remove saliva.",value:"4"},{text:"I need to remove saliva so frequently that I always keep tissues near me or use a towel to protect my clothes.",value:"5"}],validationRules:{required:!0}}]},{title:"Cue Band Formal Trial - Assessment",questions:[{question:"Does the loss of saliva limit you in contacts with others?",name:"romps7",type:"radio",options:[{text:"My loss of saliva does not limit me in contacts with others.",value:"1"},{text:"I have to pay attention, but that does not bother me.",value:"2"},{text:"I have to pay more attention because I know that others could see me losing saliva.",value:"3"},{text:"I try to avoid contact when I know that I lose saliva.",value:"4"},{text:"I notice that others avoid having contact with me because I lose saliva.",value:"5"}],validationRules:{required:!0}}]},{title:"Cue Band Formal Trial - Assessment",questions:[{question:"Does your loss of saliva limit you in doing activities inside or outside your home (work, hobbies)?",name:"romps8",type:"radio",options:[{text:"My (loss of) saliva does not limit me in activities.",value:"1"},{text:"I have to pay attention when I am busy, but that does not bother me.",value:"2"},{text:"I have to pay more attention, which is rather effortful.",value:"3"},{text:"My loss of saliva limits me in being active.",value:"4"},{text:"Due to my loss of saliva, important activities are no longer possible for me.",value:"5"}],validationRules:{required:!0}}]}],[{title:"Cue Band Formal Trial - Assessment",questions:[{question:"How bothered are you as a result of your (loss of) saliva?",name:"romps9",type:"radio",options:[{text:"I hardly notice loss of saliva.",value:"1"},{text:"Feeling more saliva or losing it bothers me a little.",value:"2"},{text:"I am bothered by my loss of saliva, but it is not my priority concern.",value:"3"},{text:"My loss of saliva bothers me a lot because it is very limiting.",value:"4"},{text:"Losing saliva is the worst aspect of my disease.",value:"5"}],validationRules:{required:!0}}]},{title:"Cue Band Formal Trial - Assessment",questions:[{question:"Over the past week, have you usually had too much saliva during when you are awake or when you sleep?",name:"updrs22",type:"radio",options:[{text:"Not at all (no problems).",value:"1"},{text:"I have too much saliva, but do not drool.",value:"2"},{text:"I have some drooling during sleep, but none when I am awake.",value:"3"},{text:"I have some drooling when I am awake, but I usually do not need tissues or a handkerchief.",value:"4"},{text:"I have so much drooling that I regularly need to use tissues or a handkerchief to protect my clothes.",value:"5"}],validationRules:{required:!0}}]},{title:"Cue Band Formal Trial - Assessment",questions:[{question:"Depression - Frequency",name:"nmsqdepressionfrequency",type:"likert-table",options:["Never","Rarely","Sometimes","Frequently","Majority of time"],prompts:["Felt sad or depressed?","Had difficulty experiencing pleasure?","Felt hopeless?","Had negative thoughts about yourself?","Felt that life is not worth living?"],validationRules:{required:!0}}]},{title:"Cue Band Formal Trial - Assessment",questions:[{question:"Depression - Severity",name:"nmsqdepressionseverity",type:"likert-table",options:["Not present","Minimal","Mild","Moderate","Severe"],prompts:["Felt sad or depressed?","Had difficulty experiencing pleasure?","Felt hopeless?","Had negative thoughts about yourself?","Felt that life is not worth living?"],validationRules:{required:!0}}]},{title:"Cue Band Formal Trial - Assessment",questions:[{question:"Anxiety - Frequency",name:"nmsqanxietyfrequency",type:"likert-table",options:["Never","Rarely","Sometimes","Frequently","Majority of time"],prompts:["Felt worried?","Felt nervous?","Had panic or anxiety attacks?","Been worried about being in public or in social situations?"],validationRules:{required:!0}}]},{title:"Cue Band Formal Trial - Assessment",questions:[{question:"Anxiety - Severity",name:"nmsqanxietyseverity",type:"likert-table",options:["Not present","Minimal","Mild","Moderate","Severe"],prompts:["Felt worried?","Felt nervous?","Had panic or anxiety attacks?","Been worried about being in public or in social situations?"],validationRules:{required:!0}}]},{title:"Cue Band Formal Trial - Assessment",questions:[{question:"Apathy - Frequency",name:"nmsqapathyfrequency",type:"likert-table",options:["Never","Rarely","Sometimes","Frequently","Majority of time"],prompts:["Had a reduced motivation to start day-to-day activities?","Had a reduced interest in talking to people?","Had a reduction in experiencing emotions?"],validationRules:{required:!0}}]},{title:"Cue Band Formal Trial - Assessment",questions:[{question:"Apathy - Severity",name:"nmsqapathyseverity",type:"likert-table",options:["Not present","Minimal","Mild","Moderate","Severe"],prompts:["Had a reduced motivation to start day-to-day activities?","Had a reduced interest in talking to people?","Had a reduction in experiencing emotions?"],validationRules:{required:!0}}]}],[{title:"Cue Band Formal Trial - Assessment",questions:[{question:"Psychosis - Frequency",name:"nmsqpsychosisfrequency",type:"likert-table",options:["Never","Rarely","Sometimes","Frequently","Majority of time"],prompts:["Sensed things or people in margins of visual field? (passage or presence phenomena)","Visually misinterpreted an actual object? (illusions)","Seen, heard, felt, tasted or smelled things that other people did not? (hallucinations)"],validationRules:{required:!0}}]},{title:"Cue Band Formal Trial - Assessment",questions:[{question:"Psychosis - Severity",name:"nmsqpsychosisseverity",type:"likert-table",options:["Not present","Minimal","Mild","Moderate","Severe"],prompts:["Sensed things or people in margins of visual field? (passage or presence phenomena)","Visually misinterpreted an actual object? (illusions)","Seen, heard, felt, tasted or smelled things that other people did not? (hallucinations)"],validationRules:{required:!0}}]},{title:"Cue Band Formal Trial - Assessment",questions:[{question:"Impulse Control and Related Disorders - Frequency",name:"nmsqimpulsecontrolandrelateddisordersfrequency",type:"likert-table",options:["Never","Rarely","Sometimes","Frequently","Majority of time"],prompts:["Had an increase in gambling, sexual, buying or eating behaviours?","Had an increase in other behaviours (e.g., internet use, hobbies, artistic activities, writing, hoarding)?","Repeatedly handled objects without any purpose? (punding)","Routinely taken more anti-parkinsonian medications than prescribed? (dopamine dysregulation syndrome)"],validationRules:{required:!0}}]},{title:"Cue Band Formal Trial - Assessment",questions:[{question:"Impulse Control and Related Disorders - Severity",name:"nmsqimpulsecontrolandrelateddisordersseverity",type:"likert-table",options:["Not present","Minimal","Mild","Moderate","Severe"],prompts:["Had an increase in gambling, sexual, buying or eating behaviours?","Had an increase in other behaviours (e.g., internet use, hobbies, artistic activities, writing, hoarding)?","Repeatedly handled objects without any purpose? (punding)","Routinely taken more anti-parkinsonian medications than prescribed? (dopamine dysregulation syndrome)"],validationRules:{required:!0}}]},{title:"Cue Band Formal Trial - Assessment",questions:[{title:"Cognition - Frequency",name:"nmsqcognitionfrequency",type:"likert-table",options:["Never","Rarely","Sometimes","Frequently","Majority of time"],prompts:["Had difficulty remembering things?","Had difficulty learning new things?","Had difficulty keeping focus or paying attention?","Had difficulty finding words or expressing ideas?","Had difficulty planning or carrying out complex tasks, not due to motor problems? (executive abilities)","Had difficulty judging the position of things? (visuospatial abilities)"],validationRules:{required:!0}}]},{title:"Cue Band Formal Trial - Assessment",questions:[{question:"Cognition - Severity",name:"nmsqcognitionseverity",type:"likert-table",options:["Not present","Minimal","Mild","Moderate","Severe"],prompts:["Had difficulty remembering things?","Had difficulty learning new things?","Had difficulty keeping focus or paying attention?","Had difficulty finding words or expressing ideas?","Had difficulty planning or carrying out complex tasks, not due to motor problems? (executive abilities)","Had difficulty judging the position of things? (visuospatial abilities)"],validationRules:{required:!0}}]},{title:"Cue Band Formal Trial - Assessment",questions:[{question:"Orthostatic Hypotension - Frequency",name:"nmsqorthostatichypotensionfrequency",type:"likert-table",options:["Never","Rarely","Sometimes","Frequently","Majority of time"],prompts:["Felt lightheaded or fainted when changing position?","Had dizziness or weakness on standing?"],validationRules:{required:!0}}]},{title:"Cue Band Formal Trial - Assessment",questions:[{question:"Orthostatic Hypotension - Severity",name:"nmsqorthostatichypotensionseverity",type:"likert-table",options:["Not present","Minimal","Mild","Moderate","Severe"],prompts:["Felt lightheaded or fainted when changing position?","Had dizziness or weakness on standing?"],validationRules:{required:!0}}]}],[{title:"Cue Band Formal Trial - Assessment",questions:[{question:"Urinary - Frequency",name:"nmsqurinaryfrequency",type:"likert-table",options:["Never","Rarely","Sometimes","Frequently","Majority of time"],prompts:["Had an urgent need to empty bladder? (urinary urgency)","Had to empty bladder more than every 2 hours? (urinary frequency)","Had to empty bladder more than twice overnight? (nocturia)"],validationRules:{required:!0}}]},{title:"Cue Band Formal Trial - Assessment",questions:[{question:"Urinary - Severity",name:"nmsqurinaryseverity",type:"likert-table",options:["Not present","Minimal","Mild","Moderate","Severe"],prompts:["Had an urgent need to empty bladder? (urinary urgency)","Had to empty bladder more than every 2 hours? (urinary frequency)","Had to empty bladder more than twice overnight? (nocturia)"],validationRules:{required:!0}}]},{title:"Cue Band Formal Trial - Assessment",questions:[{question:"Sexual - Frequency",name:"nmsqsexualfrequency",type:"likert-table",options:["Never","Rarely","Sometimes","Frequently","Majority of time"],prompts:["Had decreased sexual drive or interest in sex?","Had difficulty with sexual arousal (e. g., erectile dysfunction or vaginal dryness) or sexual performance not related to motor problems (e. g., not related to Parkinson's rigidity)?"],validationRules:{required:!0}}]},{title:"Cue Band Formal Trial - Assessment",questions:[{question:"Sexual - Severity",name:"nmsqsexualseverity",type:"likert-table",options:["Not present","Minimal","Mild","Moderate","Severe"],prompts:["Had decreased sexual drive or interest in sex?","Had difficulty with sexual arousal (e. g., erectile dysfunction or vaginal dryness) or sexual performance not related to motor problems (e. g., not related to Parkinson's rigidity)?"],validationRules:{required:!0}}]},{title:"Cue Band Formal Trial - Assessment",questions:[{question:"Gastrointestinal - Frequency",name:"nmsqgastrointestinalfrequency",type:"likert-table",options:["Never","Rarely","Sometimes","Frequently","Majority of time"],prompts:["Had any drooling of saliva?","Had difficulty swallowing?","Had nausea or felt sick in the stomach?","Had constipation? (defined as <3 bowel movements/week)"],validationRules:{required:!0}}]},{title:"Cue Band Formal Trial - Assessment",questions:[{question:"Gastrointestinal - Severity",name:"nmsqgastrointestinalseverity",type:"likert-table",options:["Not present","Minimal","Mild","Moderate","Severe"],prompts:["Had any drooling of saliva?","Had difficulty swallowing?","Had nausea or felt sick in the stomach?","Had constipation? (defined as <3 bowel movements/week)"],validationRules:{required:!0}}]},{title:"Cue Band Formal Trial - Assessment",questions:[{question:"Sleep and wakefulness - Frequency",name:"nmsqsleepandwakefulnessfrequency",type:"likert-table",options:["Never","Rarely","Sometimes","Frequently","Majority of time"],prompts:["Had difficulty falling asleep or staying asleep? (insomnia)","Acted out dreams while asleep, such as shouting, flailing arms, punching, or running movements? (REM sleep behaviour)","Dozed off or fallen asleep unintentionally during waking hours? (e.g., during conversation, at mealtimes, or while driving, watching television; excessive daytime sleepiness)","Had an irresistible urge to move legs or arms when sitting or lying down which improved with movement? (restlessness)","Had any involuntary jerky movements in arms or legs during sleep or while resting? (periodic limb movements)","Woken at night due to snoring, gasping or difficulty with breathing?."],validationRules:{required:!0}}]},{title:"Cue Band Formal Trial - Assessment",questions:[{question:"Sleep and wakefulness - Severity",name:"nmsqsleepandwakefulnessseverity",type:"likert-table",options:["Not present","Minimal","Mild","Moderate","Severe"],prompts:["Had difficulty falling asleep or staying asleep? (insomnia)","Acted out dreams while asleep, such as shouting, flailing arms, punching, or running movements? (REM sleep behaviour)","Dozed off or fallen asleep unintentionally during waking hours? (e.g., during conversation, at mealtimes, or while driving, watching television; excessive daytime sleepiness)","Had an irresistible urge to move legs or arms when sitting or lying down which improved with movement? (restlessness)","Had any involuntary jerky movements in arms or legs during sleep or while resting? (periodic limb movements)","Woken at night due to snoring, gasping or difficulty with breathing?."],validationRules:{required:!0}}]}],[{title:"Cue Band Formal Trial - Assessment",questions:[{question:"Pain - Frequency",name:"nmsqpainfrequency",type:"likert-table",options:["Never","Rarely","Sometimes","Frequently","Majority of time"],prompts:["Had muscle, joint or back pain?","Had a deep or dull aching pain within the body?","Had pain due to abnormal twisting movements of arms or legs or body, often present in the early morning period? (dystonia)","Had other types of pain? (e.g., nocturnal pain, orofacial pain)"],validationRules:{required:!0}}]},{title:"Cue Band Formal Trial - Assessment",questions:[{question:"Pain - Severity",name:"nmsqpainseverity",type:"likert-table",options:["Not present","Minimal","Mild","Moderate","Severe"],prompts:["Had muscle, joint or back pain?","Had a deep or dull aching pain within the body?","Had pain due to abnormal twisting movements of arms or legs or body, often present in the early morning period? (dystonia)","Had other types of pain? (e.g., nocturnal pain, orofacial pain)"],validationRules:{required:!0}}]},{title:"Cue Band Formal Trial - Assessment",questions:[{question:"Other - Frequency",name:"nmsqotherfrequency1",type:"likert-table",options:["Yes","No"],prompts:["Had an unintentional weight loss?","Had a decrease in sense of smell? (impaired olfaction)"],validationRules:{required:!0}},{name:"nmsqotherfrequency2",type:"likert-table",options:["Never","Rarely","Sometimes","Frequently","Majority of time"],prompts:["Felt excessively physically tired? (physical fatigue)","Felt excessively mentally tired? (mental fatigue)","Had excessive sweating not related to temperature?"],validationRules:{required:!0}}]},{title:"Cue Band Formal Trial - Assessment",questions:[{question:"Other Severity",name:"nmsqotherseverity",type:"likert-table",options:["Not present","Minimal","Mild","Moderate","Severe"],prompts:["Had an unintentional weight loss?","Had a decrease in sense of smell? (impaired olfaction)","Felt excessively physically tired? (physical fatigue)","Felt excessively mentally tired? (mental fatigue)","Had excessive sweating not related to temperature?"]}]},{title:"Cue Band Formal Trial - Assessment",questions:[{question:"Over the past four weeks have you, because of your Parkinson's Disease... ",name:"pdq8",type:"likert-table",options:["Never","Occasionally","Sometimes","Often","Always"],prompts:["...had difficulty getting around in public","...had difficulty dressing yourself?","...felt depressed?","...had problems with close relationships?","...had problems with concentration?","...felt unable to communicate properly?","...had painful muscle cramps and pains?","Over the past four weeks have you felt embarrassed by having Parkinson's Disease?"],validationRules:{required:!0}}]}],[{title:"Thank You",description:"Thank you for taking the time to complete this assessment."}]]},A=N;function H(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function E(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?H(a,!0).forEach((function(t){Object(w["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):H(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var I=E({},A),M=a("d722"),B={name:"PreHealthForm",components:{Page:F,ProgressBar:$},data:function(){return{formData:null,originalFormData:null,currentPage:0,currentQuestion:0,results:{},isSurveyEnd:!1,color:"#009688",pagesToSkip:[],endSurveyLocation:{page:null,question:null},enableNext:!0,hasSavedResults:!1,isSubmitted:!1,pdfUrl:null,submissionId:0,error:!1,isSubmitting:!1}},watch:{results:{handler:function(e,t){this.saveForm()},deep:!0}},mounted:function(){this.hasSavedResults=!!localStorage.results&&Object.keys(JSON.parse(localStorage.results)).length>0,this.originalFormData=I.sections,this.color=I.color,this.formData=JSON.parse(JSON.stringify(this.originalFormData))},created:function(){this.$root.$on("endSurvey",this.endSurvey),this.$root.$on("togglePage",this.togglePage)},destroyed:function(){this.$root.$off("togglePage",this.togglePage),this.$root.$off("endSurvey",this.endSurvey)},methods:{downloadCopy:function(){var e=Object(M["a"])(this.submissionId,"".concat(this.results.studyId.code1).concat(this.results.studyId.code2).concat(this.results.studyId.code3));window.open(e)},submit:function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isSubmitting=!0,console.log(JSON.stringify(this.results)),e.next=4,Object(M["c"])({data:this.results,token:this.$route.query.token,assessmentNumber:this.$route.query.assessmentNumber});case 4:t=e.sent,this.isSubmitting=!1,t?(this.submissionId=t,this.isSubmitted=!0,console.log("success"),window.location.href="https://cue.band"):this.error=!0;case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),base64ToBlob:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:512,i=atob(e.split(",")[1]),n=[],s=0;s<i.length;s+=a){for(var o=i.slice(s,s+a),r=new Array(o.length),l=0;l<o.length;l++)r[l]=o.charCodeAt(l);var u=new Uint8Array(r);n.push(u)}var c=new Blob(n,{type:t});return c},getAudioObject:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"audio",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],n=null,s=Object(g["a"])(i);if(t instanceof Array){for(var o=0;o<t.length;o++)if(s.push(o),n=this.getAudioObject(e,t[o],a,s),n)break}else for(var r in t){if("id"==r&&1==t[s])return e.push(t),t;if((t[r]instanceof Object||t[r]instanceof Array)&&(t[r][a]&&e.push([r,t[r],[].concat(Object(g["a"])(s),[r])]),n=this.getAudioObject(e,t[r],a,[].concat(Object(g["a"])(s),[r])),n))break}return n},startNew:function(){this.results={},this.nextPage()},startFromSave:function(){if(localStorage.results&&(this.results=JSON.parse(localStorage.results)),localStorage.location){var e=JSON.parse(localStorage.location);this.currentPage=e.page,this.currentQuestion=e.question,this.enableNext=!0}else this.nextPage()},saveForm:function(){localStorage.results=JSON.stringify(this.results),localStorage.location=JSON.stringify({page:this.currentPage,question:this.currentQuestion})},scrollToTop:function(){window.scrollTo(0,0)},togglePage:function(e){this.pagesToSkip.indexOf(e.page)>=0?(this.pagesToSkip.splice(this.pagesToSkip.indexOf(e.page),1),this.formData.splice(e.page,0,this.originalFormData[e.page])):(this.pagesToSkip.push(e.page),this.formData.splice(e.page,1))},nextPage:function(){this.enableNext=!1,this.$root.$emit("validate")},progressToNext:function(e){if(this.enableNext=!0,e&&(this.currentPage<this.formData.length-1||this.currentQuestion<this.formData[this.currentPage].length-1)){if(this.isSurveyEnd&&this.currentPage==this.endSurveyLocation.page&&this.currentQuestion==this.endSurveyLocation.question)return this.currentPage=this.formData.length-1,void(this.currentQuestion=this.formData[this.currentPage].length-1);this.currentQuestion<this.formData[this.currentPage].length-1?this.currentQuestion++:(this.currentQuestion=0,this.currentPage++),this.scrollToTop(),localStorage.location=JSON.stringify({page:this.currentPage,question:this.currentQuestion})}},prevPage:function(){if(this.enableNext=!0,this.currentPage>0||this.currentQuestion>0){if(this.isSurveyEnd&&this.currentPage==this.formData.length-1)return this.currentPage=this.endSurveyLocation.page,void(this.currentQuestion=this.endSurveyLocation.question);this.currentQuestion>0?this.currentQuestion--:(this.currentPage--,this.currentQuestion=this.formData[this.currentPage].length-1),this.scrollToTop(),localStorage.location=JSON.stringify({page:this.currentPage,question:this.currentQuestion})}},endSurvey:function(e){this.isSurveyEnd=e,this.endSurveyLocation={page:e?this.currentPage:null,question:e?this.currentQuestion:null}}}},Q=B,L=(a("d3e0"),Object(c["a"])(Q,v,f,!1,null,"5dce5ec3",null)),Y=L.exports,z={name:"home",components:{PreHealthForm:Y}},U=z,J=(a("c219"),Object(c["a"])(U,p,h,!1,null,null,null)),Z=J.exports,G=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"placeholder"}},[a("router-link",{attrs:{to:"/before"}},[e._v("Before the test")]),a("br"),a("router-link",{attrs:{to:"/during"}},[e._v("During the test")]),a("br"),a("router-link",{attrs:{to:"/after"}},[e._v("After the test")]),a("br"),a("router-link",{attrs:{to:"/all"}},[e._v("Combined Form")])],1)},W=[],X={name:"placeholder",components:{}},K=X,ee=(a("d8e7"),Object(c["a"])(K,G,W,!1,null,null,null));ee.exports;i["a"].use(n["a"]);var te=new n["a"]({routes:[{path:"/",name:"home",component:Z}]}),ae=a("2b27"),ie=a.n(ae),ne=a("c9d0"),se=a.n(ne);i["a"].config.productionTip=!1,i["a"].use(n["a"]),i["a"].use(se.a),i["a"].use(ie.a),i["a"].$cookies.config(0);var oe=new i["a"];i["a"].mixin({data:function(){return{eventHub:oe}}}),new i["a"]({router:te,render:function(e){return e(m)}}).$mount("#app")},5830:function(e,t,a){e.exports=a.p+"img/play.a214262b.svg"},"5c88":function(e,t,a){},6282:function(e,t,a){"use strict";var i=a("31ef"),n=a.n(i);n.a},"695a":function(e,t,a){"use strict";var i=a("cecd"),n=a.n(i);n.a},7736:function(e,t,a){},7825:function(e,t,a){"use strict";var i=a("7736"),n=a.n(i);n.a},"7b5c":function(e,t,a){"use strict";var i=a("37c8"),n=a.n(i);n.a},"7e45":function(e,t,a){"use strict";var i=a("5c88"),n=a.n(i);n.a},"7faf":function(e,t,a){"use strict";var i=a("8fba"),n=a.n(i);n.a},8189:function(e,t,a){},8562:function(e,t,a){},"8fba":function(e,t,a){},"958a":function(e,t,a){"use strict";var i=a("d435"),n=a.n(i);n.a},"97b5":function(e,t,a){"use strict";var i=a("d722");t["a"]=function(e,t,a){var n={sessionId:e,data:t,type:a,timestamp:Date.now()};Object(i["b"])(n)}},a43c:function(e,t,a){},b62a:function(e,t,a){"use strict";var i=a("ce07"),n=a.n(i);n.a},c219:function(e,t,a){"use strict";var i=a("e9bb"),n=a.n(i);n.a},cb72:function(e,t,a){"use strict";var i=a("d75d"),n=a.n(i);n.a},ce07:function(e,t,a){},cecd:function(e,t,a){},d3e0:function(e,t,a){"use strict";var i=a("e1fa"),n=a.n(i);n.a},d435:function(e,t,a){},d722:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return u})),a.d(t,"a",(function(){return l}));a("96cf");var i=a("3b8d"),n=a("bc3a"),s=a.n(n),o="".concat(Object({VUE_APP_APP_ID:"myAppId",VUE_APP_SERVER_URL:"https://fae6-90-246-94-61.ngrok.io/parse",VUE_APP_REST_API_KEY:"test",NODE_ENV:"production",BASE_URL:"/"}).SERVER_URL,"/functions/");function r(e){}function l(e,t){return"".concat(o,"/download?id=").concat(e,"&studyId=").concat(t)}function u(e){return c.apply(this,arguments)}function c(){return c=Object(i["a"])(regeneratorRuntime.mark((function e(t){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,a={headers:{"X-Parse-Application-Id":"".concat("myAppId"),"X-Parse-REST-API-Key":"".concat("test"),"Content-Type":"application/json"}},e.next=4,s.a.post("".concat("https://fae6-90-246-94-61.ngrok.io/parse","/functions/checkAssessmentToken?token=").concat(t.token,"&assessmentNumber=").concat(t.assessmentNumber),t,a);case 4:if(i=e.sent,null==i.data.result.code){e.next=8;break}return console.error("Error",i.data.result.error),e.abrupt("return",!1);case 8:if("found"==i.data.result){e.next=10;break}return e.abrupt("return",!1);case 10:return e.next=12,s.a.post("".concat("https://fae6-90-246-94-61.ngrok.io/parse","/functions/submitAssessment"),t,a);case 12:if(e.sent,null==i.data.result.code){e.next=16;break}return console.error("Error",i.data.result.error),e.abrupt("return",!1);case 16:return e.abrupt("return",!0);case 19:return e.prev=19,e.t0=e["catch"](0),console.log(e.t0),e.abrupt("return",!1);case 23:case"end":return e.stop()}}),e,null,[[0,19]])}))),c.apply(this,arguments)}},d739:function(e,t,a){e.exports=a.p+"img/delete.c6e127e6.svg"},d75d:function(e,t,a){},d8e7:function(e,t,a){"use strict";var i=a("3921"),n=a.n(i);n.a},e1fa:function(e,t,a){},e9bb:function(e,t,a){},eb5b:function(e,t,a){},f18f:function(e,t,a){"use strict";var i=a("fe78"),n=a.n(i);n.a},fa2f:function(e,t,a){},fd2a:function(e,t,a){"use strict";var i=a("8189"),n=a.n(i);n.a},fe78:function(e,t,a){}});
//# sourceMappingURL=app.ccaa1a8a.js.map